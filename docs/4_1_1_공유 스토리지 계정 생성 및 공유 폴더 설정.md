
**Azure Storage를 이용해 공유 폴더를 생성한 후 Cloud Shell에서 마운트하여 Bash 스크립트를 실행**


### **2️⃣ 공유 스토리지 계정 생성 및 공유 폴더 설정**  
📌 **목표**:  
- Azure Storage Account를 생성  
- 파일 공유(SMB) 생성  
- Cloud Shell에서 자동 마운트되도록 설정  

### **3️⃣ 오퍼레이터가 Cloud Shell에서 공유 폴더에 접근하여 Bash 스크립트 실행**  
📌 **목표**:  
- 여러 사용자가 Cloud Shell에서 공유 폴더를 마운트  
- Bash 스크립트 실행  

---


## **2️⃣ 공유 스토리지 계정 및 공유 폴더 생성**  
### **🔹 스토리지 계정 및 파일 공유 생성**  
```bash
# 리소스 그룹 생성
az group create --name myStorageGroup --location koreacentral

# 스토리지 계정 생성 (Azure Files 지원)
az storage account create \
    --name mystorageaks \
    --resource-group myStorageGroup \
    --location koreacentral \
    --sku Standard_LRS

# 파일 공유 생성 (예: cloudshell-share)
az storage share create \
    --name cloudshell-share \
    --account-name mystorageaks
```

### **🔹 공유 폴더에 Bash 스크립트 업로드**  
```bash
az storage file upload-batch \
    --source docs \
    --destination cloudshell-share \
    --account-name mystorageaks \
    --pattern "*.sh"

```

### **🔹 공유 폴더 내용 확인**  
```bash
az storage file list \
    --share-name cloudshell-share \
    --account-name mystorageaks \
    --output table
```


JIH@DESKTOP-0TCBR9U MINGW64 ~/githubs/azure-demo (master)
$ az storage file list \
    --share-name cloudshell-share \
    --account-name mystorageaks \
    --output table

Name                    Content Length    Type    Last Modified
----------------------  ----------------  ------  -------------------------
aks_archi_checklist.sh  2848              file    2025-02-26T01:00:18+00:00
aks_archi_env.sh        191               file    2025-02-26T01:00:18+00:00
aks_checklist.sh        3882              file    2025-02-26T01:00:18+00:00
env.sh                  184               file    2025-02-26T01:00:18+00:00